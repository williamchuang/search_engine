<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8">
    
    <title>numpy.nanpercentile &mdash; NumPy v1.12 Manual</title>
    
    <link rel="stylesheet" type="text/css" href="../../_static/css/spc-bootstrap.css">
    <link rel="stylesheet" type="text/css" href="../../_static/css/spc-extend.css">
    <link rel="stylesheet" href="../../_static/scipy.css" type="text/css" >
    <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" >
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../../',
        VERSION:     '1.12.0',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  false
      };
    </script>
    <script type="text/javascript" src="../../_static/jquery.js"></script>
    <script type="text/javascript" src="../../_static/underscore.js"></script>
    <script type="text/javascript" src="../../_static/doctools.js"></script>
    <script type="text/javascript" src="../../_static/js/copybutton.js"></script>
    <link rel="author" title="About these documents" href="../../about.html" >
    <link rel="top" title="NumPy v1.12 Manual" href="../../index.html" >
    <link rel="up" title="Statistics" href="../routines.statistics.html" >
    <link rel="next" title="numpy.median" href="numpy.median.html" >
    <link rel="prev" title="numpy.percentile" href="numpy.percentile.html" > 
  </head>
  <body>

  <div class="container">
    <div class="header">
    </div>
  </div>


    <div class="container">
      <div class="main">
        
	<div class="row-fluid">
	  <div class="span12">
	    <div class="spc-navbar">
              
    <ul class="nav nav-pills pull-left">
        
        <li class="active"><a href="../../index.html">NumPy v1.12 Manual</a></li>
        

          <li class="active"><a href="../index.html" >NumPy Reference</a></li>
          <li class="active"><a href="../routines.html" >Routines</a></li>
          <li class="active"><a href="../routines.statistics.html" accesskey="U">Statistics</a></li> 
    </ul>
              
              
    <ul class="nav nav-pills pull-right">
      <li class="active">
        <a href="../../genindex.html" title="General Index"
           accesskey="I">index</a>
      </li>
      <li class="active">
        <a href="numpy.median.html" title="numpy.median"
           accesskey="N">next</a>
      </li>
      <li class="active">
        <a href="numpy.percentile.html" title="numpy.percentile"
           accesskey="P">previous</a>
      </li>
    </ul>
              
	    </div>
	  </div>
	</div>
        

	<div class="row-fluid">
      <div class="spc-rightsidebar span3">
        <div class="sphinxsidebarwrapper">
  <h4>Previous topic</h4>
  <p class="topless"><a href="numpy.percentile.html"
                        title="previous chapter">numpy.percentile</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="numpy.median.html"
                        title="next chapter">numpy.median</a></p>


        </div>
      </div>
          <div class="span9">
            
        <div class="bodywrapper">
          <div class="body" id="spc-section-body">
            
  <div class="section" id="numpy-nanpercentile">
<h1>numpy.nanpercentile<a class="headerlink" href="#numpy-nanpercentile" title="Permalink to this headline">¶</a></h1>
<dl class="function">
<dt id="numpy.nanpercentile">
<tt class="descclassname">numpy.</tt><tt class="descname">nanpercentile</tt><big>(</big><em>a</em>, <em>q</em>, <em>axis=None</em>, <em>out=None</em>, <em>overwrite_input=False</em>, <em>interpolation='linear'</em>, <em>keepdims=&lt;class numpy._globals._NoValue at 0x40b6a26c&gt;</em><big>)</big><a class="reference external" href="http://github.com/numpy/numpy/blob/v1.12.0/numpy/lib/nanfunctions.py#L996-L1127"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#numpy.nanpercentile" title="Permalink to this definition">¶</a></dt>
<dd><p>Compute the qth percentile of the data along the specified axis,
while ignoring nan values.</p>
<p>Returns the qth percentile(s) of the array elements.</p>
<div class="versionadded">
<p><span class="versionmodified">New in version 1.9.0.</span></p>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>a</strong> : array_like</p>
<blockquote>
<div><p>Input array or object that can be converted to an array.</p>
</div></blockquote>
<p><strong>q</strong> : float in range of [0,100] (or sequence of floats)</p>
<blockquote>
<div><p>Percentile to compute, which must be between 0 and 100
inclusive.</p>
</div></blockquote>
<p><strong>axis</strong> : {int, sequence of int, None}, optional</p>
<blockquote>
<div><p>Axis or axes along which the percentiles are computed. The
default is to compute the percentile(s) along a flattened
version of the array. A sequence of axes is supported since
version 1.9.0.</p>
</div></blockquote>
<p><strong>out</strong> : ndarray, optional</p>
<blockquote>
<div><p>Alternative output array in which to place the result. It must
have the same shape and buffer length as the expected output,
but the type (of the output) will be cast if necessary.</p>
</div></blockquote>
<p><strong>overwrite_input</strong> : bool, optional</p>
<blockquote>
<div><p>If True, then allow use of memory of input array <em class="xref py py-obj">a</em> for
calculations. The input array will be modified by the call to
<a class="reference internal" href="numpy.percentile.html#numpy.percentile" title="numpy.percentile"><tt class="xref py py-obj docutils literal"><span class="pre">percentile</span></tt></a>. This will save memory when you do not need to
preserve the contents of the input array. In this case you
should not make any assumptions about the contents of the input
<em class="xref py py-obj">a</em> after this function completes &#8211; treat it as undefined.
Default is False. If <em class="xref py py-obj">a</em> is not already an array, this parameter
will have no effect as <em class="xref py py-obj">a</em> will be converted to an array
internally regardless of the value of this parameter.</p>
</div></blockquote>
<p><strong>interpolation</strong> : {&#8216;linear&#8217;, &#8216;lower&#8217;, &#8216;higher&#8217;, &#8216;midpoint&#8217;, &#8216;nearest&#8217;}</p>
<blockquote>
<div><p>This optional parameter specifies the interpolation method to
use when the desired quantile lies between two data points
<tt class="docutils literal"><span class="pre">i</span> <span class="pre">&lt;</span> <span class="pre">j</span></tt>:</p>
<blockquote>
<div><ul class="simple">
<li>linear: <tt class="docutils literal"><span class="pre">i</span> <span class="pre">+</span> <span class="pre">(j</span> <span class="pre">-</span> <span class="pre">i)</span> <span class="pre">*</span> <span class="pre">fraction</span></tt>, where <tt class="docutils literal"><span class="pre">fraction</span></tt> is
the fractional part of the index surrounded by <tt class="docutils literal"><span class="pre">i</span></tt> and
<tt class="docutils literal"><span class="pre">j</span></tt>.</li>
<li>lower: <tt class="docutils literal"><span class="pre">i</span></tt>.</li>
<li>higher: <tt class="docutils literal"><span class="pre">j</span></tt>.</li>
<li>nearest: <tt class="docutils literal"><span class="pre">i</span></tt> or <tt class="docutils literal"><span class="pre">j</span></tt>, whichever is nearest.</li>
<li>midpoint: <tt class="docutils literal"><span class="pre">(i</span> <span class="pre">+</span> <span class="pre">j)</span> <span class="pre">/</span> <span class="pre">2</span></tt>.</li>
</ul>
</div></blockquote>
</div></blockquote>
<p><strong>keepdims</strong> : bool, optional</p>
<blockquote>
<div><p>If this is set to True, the axes which are reduced are left in
the result as dimensions with size one. With this option, the
result will broadcast correctly against the original array <em class="xref py py-obj">a</em>.</p>
<p>If this is anything but the default value it will be passed
through (in the special case of an empty array) to the
<a class="reference internal" href="numpy.mean.html#numpy.mean" title="numpy.mean"><tt class="xref py py-obj docutils literal"><span class="pre">mean</span></tt></a> function of the underlying array.  If the array is
a sub-class and <a class="reference internal" href="numpy.mean.html#numpy.mean" title="numpy.mean"><tt class="xref py py-obj docutils literal"><span class="pre">mean</span></tt></a> does not have the kwarg <em class="xref py py-obj">keepdims</em> this
will raise a RuntimeError.</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>percentile</strong> : scalar or ndarray</p>
<blockquote class="last">
<div><p>If <em class="xref py py-obj">q</em> is a single percentile and <em class="xref py py-obj">axis=None</em>, then the result
is a scalar. If multiple percentiles are given, first axis of
the result corresponds to the percentiles. The other axes are
the axes that remain after the reduction of <em class="xref py py-obj">a</em>. If the input
contains integers or floats smaller than <tt class="docutils literal"><span class="pre">float64</span></tt>, the output
data-type is <tt class="docutils literal"><span class="pre">float64</span></tt>. Otherwise, the output data-type is the
same as that of the input. If <em class="xref py py-obj">out</em> is specified, that array is
returned instead.</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last"><a class="reference internal" href="numpy.nanmean.html#numpy.nanmean" title="numpy.nanmean"><tt class="xref py py-obj docutils literal"><span class="pre">nanmean</span></tt></a>, <a class="reference internal" href="numpy.nanmedian.html#numpy.nanmedian" title="numpy.nanmedian"><tt class="xref py py-obj docutils literal"><span class="pre">nanmedian</span></tt></a>, <a class="reference internal" href="numpy.percentile.html#numpy.percentile" title="numpy.percentile"><tt class="xref py py-obj docutils literal"><span class="pre">percentile</span></tt></a>, <a class="reference internal" href="numpy.median.html#numpy.median" title="numpy.median"><tt class="xref py py-obj docutils literal"><span class="pre">median</span></tt></a>, <a class="reference internal" href="numpy.mean.html#numpy.mean" title="numpy.mean"><tt class="xref py py-obj docutils literal"><span class="pre">mean</span></tt></a></p>
</div>
<p class="rubric">Notes</p>
<p>Given a vector <tt class="docutils literal"><span class="pre">V</span></tt> of length <tt class="docutils literal"><span class="pre">N</span></tt>, the <tt class="docutils literal"><span class="pre">q</span></tt>-th percentile of
<tt class="docutils literal"><span class="pre">V</span></tt> is the value <tt class="docutils literal"><span class="pre">q/100</span></tt> of the way from the mimumum to the
maximum in in a sorted copy of <tt class="docutils literal"><span class="pre">V</span></tt>. The values and distances of
the two nearest neighbors as well as the <em class="xref py py-obj">interpolation</em> parameter
will determine the percentile if the normalized ranking does not
match the location of <tt class="docutils literal"><span class="pre">q</span></tt> exactly. This function is the same as
the median if <tt class="docutils literal"><span class="pre">q=50</span></tt>, the same as the minimum if <tt class="docutils literal"><span class="pre">q=0</span></tt> and the
same as the maximum if <tt class="docutils literal"><span class="pre">q=100</span></tt>.</p>
<p class="rubric">Examples</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">a</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([[</span><span class="mf">10.</span><span class="p">,</span> <span class="mf">7.</span><span class="p">,</span> <span class="mf">4.</span><span class="p">],</span> <span class="p">[</span><span class="mf">3.</span><span class="p">,</span> <span class="mf">2.</span><span class="p">,</span> <span class="mf">1.</span><span class="p">]])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">a</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">nan</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">a</span>
<span class="go">array([[ 10.,  nan,   4.],</span>
<span class="go">   [  3.,   2.,   1.]])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">np</span><span class="o">.</span><span class="n">percentile</span><span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="mi">50</span><span class="p">)</span>
<span class="go">nan</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">np</span><span class="o">.</span><span class="n">nanpercentile</span><span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="mi">50</span><span class="p">)</span>
<span class="go">3.5</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">np</span><span class="o">.</span><span class="n">nanpercentile</span><span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="mi">50</span><span class="p">,</span> <span class="n">axis</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
<span class="go">array([ 6.5,  2.,   2.5])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">np</span><span class="o">.</span><span class="n">nanpercentile</span><span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="mi">50</span><span class="p">,</span> <span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">keepdims</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
<span class="go">array([[ 7.],</span>
<span class="go">       [ 2.]])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">m</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">nanpercentile</span><span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="mi">50</span><span class="p">,</span> <span class="n">axis</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">out</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">zeros_like</span><span class="p">(</span><span class="n">m</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">np</span><span class="o">.</span><span class="n">nanpercentile</span><span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="mi">50</span><span class="p">,</span> <span class="n">axis</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">out</span><span class="o">=</span><span class="n">out</span><span class="p">)</span>
<span class="go">array([ 6.5,  2.,   2.5])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">m</span>
<span class="go">array([ 6.5,  2. ,  2.5])</span>
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">b</span> <span class="o">=</span> <span class="n">a</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">np</span><span class="o">.</span><span class="n">nanpercentile</span><span class="p">(</span><span class="n">b</span><span class="p">,</span> <span class="mi">50</span><span class="p">,</span> <span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">overwrite_input</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
<span class="go">array([  7.,  2.])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">assert</span> <span class="ow">not</span> <span class="n">np</span><span class="o">.</span><span class="n">all</span><span class="p">(</span><span class="n">a</span><span class="o">==</span><span class="n">b</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

</div>


          </div>
        </div>
          </div>
        </div>
      </div>
    </div>

    <div class="container container-navbar-bottom">
      <div class="spc-navbar">
        
      </div>
    </div>
    <div class="container">
    <div class="footer">
    <div class="row-fluid">
    <ul class="inline pull-left">
      <li>
        &copy; Copyright 2008-2009, The Scipy community.
      </li>
      <li>
      Last updated on Jan 16, 2017.
      </li>
      <li>
      Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.2.3.
      </li>
    </ul>
    </div>
    </div>
    </div>
  </body>
</html>